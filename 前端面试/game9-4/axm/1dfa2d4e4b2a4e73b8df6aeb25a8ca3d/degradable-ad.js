(function(n,t,s){var i=n.DegradableAd=function(){function n(n,i){this.videoAdId=n;this.interstitialAdId=i;this.onloadfns=[];this.onerrorfns=[];this.onclosefns=[];this.videoAd=new t(n);this.interstitialAd=new s(i);this.transfer()}Object.assign(n.prototype,{transfer:function(){var n=[this.videoAd,this.interstitialAd];for(var t=0;t<n.length;t++){var s=n[t];s.onloadfns=this.onloadfns;s.onerrorfns=this.onerrorfns;s.onclosefns=this.onclosefns}},load:function(){var n=this;n.transfer();return new Promise(function(t,s){n.videoAd.load().then(function(i){if(i===false){return n.interstitialAd.load().then(function(n){if(n===false){return t(false)}t()}).catch(s)}t()}).catch(function(i){console.warn(i);n.interstitialAd.load().then(function(n){if(n===false){return t(false)}t()}).catch(s)})})},show:function(){var n=this;n.transfer();return new Promise(function(t,s){n.videoAd.show().then(function(i){if(i===false){return n.interstitialAd.show().then(function(n){if(n===false){return t(false)}t()}).catch(s)}t()}).catch(function(i){console.warn(i);n.interstitialAd.show().then(function(n){if(n===false){return t(false)}t()}).catch(s)})})},onLoad:function(n){this.onloadfns.push(n);this.transfer()},offLoad:function(n){this.onloadfns.remove(n);this.transfer()},onError:function(n){this.onerrorfns.push(n);this.transfer()},offError:function(n){this.onerrorfns.remove(n);this.transfer()},onClose:function(n){this.onclosefns.push(n);this.transfer()},offClose:function(n){this.onclosefns=this.onclosefns.filter(function(t){return t!==n});this.transfer()}});return n}()})(this,this.RewardedVideoAd,this.InterstitialAd);