/* IDHB v1.11.1 2019-07-18 23:10 */
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=20)}([function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){if("undefined"==typeof window)return"";var b=void 0;try{var c=void 0;try{c=window.top.location}catch(a){c=window.location}b=""!=c.search?n.default.parse(c.search):n.default.parse(c.hash)}catch(a){}return b&&b[a]?b[a]:""}function f(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.on,c=a.wrapperId;return"boolean"==typeof b&&(p=b),void 0===p&&(p=!!window.sessionStorage.getItem(c+"_debug")||"true"===e(c+"_debug")),p}function g(a){if("undefined"!=typeof console&&f()){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).info.apply(b,[a].concat(d))}}function h(a){return a&&"object"===(void 0===a?"undefined":k(a))&&!Array.isArray(a)}function i(){return!(!window.$sf||!window.$sf.ext)}Object.defineProperty(b,"__esModule",{value:!0});var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.checkHttpStatus=function(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.response=a,b.status=a.status,b},b.getParentUrl=function(){var a=(0,o.getRefererInfo)()||{};if(a.referer)return a.referer;var b=void 0;try{b=window.parent.location}catch(a){}return window.location!==b&&document.referrer?document.referrer:encodeURIComponent(document.location.href)},b.getParameterByName=e,b.debugMode=f,b.debugSession=function(a){var b=a.on,c=a.wrapperId;b?window.sessionStorage.setItem(c+"_debug",1):window.sessionStorage.removeItem(c+"_debug"),f({on:b,wrapperId:c})},b.logInfo=g,b.log=function(a){if("undefined"!=typeof console&&f()){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).log.apply(b,[a].concat(d))}},b.logWarn=function(a){if("undefined"!=typeof console){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).warn.apply(b,[a].concat(d))}},b.logError=function(a){if("undefined"!=typeof console){for(var b,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=console).error.apply(b,[a].concat(d))}},b.isObject=h,b.mergeDeep=function a(b,c){var e=j({},b);return h(b)&&h(c)&&Object.keys(c).forEach(function(f){h(c[f])&&f in b?e[f]=a(b[f],c[f]):j(e,d({},f,c[f]))}),e},b.loadScript=function(a){var b=document.createElement("script");if(b.async=!0,b.type="text/javascript",0===a.search("http"))b.src=a;else{var c="https:"==document.location.protocol;b.src=(c?"https:":"http:")+"//"+a}var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)},b.fireSyncs=function(a){g("Firing user syncs"),a.pixels&&a.pixels.forEach(function(a){return(new Image).src=a})},b.inASafeFrame=i,b.iabCmpExists=function(){var a=void 0;try{a=window.__cmp||window.top.__cmp}catch(a){}if("function"==typeof a)return!0;if(i()&&"function"==typeof window.$sf.ext.cmp)return!0;for(var b=window;;){try{if(b.frames.__cmpLocator)return!0}catch(a){}if(b===window.top)break;b=b.parent}return!1};var l,m=c(1),n=(l=m)&&l.__esModule?l:{default:l},o=c(15),p=void 0},function(a,b,c){"use strict";function d(a,b){return b.encode?b.strict?g(a):encodeURIComponent(a):a}function e(a){var b=a.indexOf("?");return-1===b?"":a.slice(b+1)}function f(a,b){var c=function(a){var b;switch(a.arrayFormat){case"index":return function(a,c,d){b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),b?(void 0===d[a]&&(d[a]={}),d[a][b[1]]=c):d[a]=c};case"bracket":return function(a,c,d){b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),b?void 0!==d[a]?d[a]=[].concat(d[a],c):d[a]=[c]:d[a]=c};default:return function(a,b,c){void 0!==c[a]?c[a]=[].concat(c[a],b):c[a]=b}}}(b=h({arrayFormat:"none"},b)),d=Object.create(null);return"string"!=typeof a?d:(a=a.trim().replace(/^[?#&]/,""))?(a.split("&").forEach(function(a){var b=a.replace(/\+/g," ").split("="),e=b.shift(),f=b.length>0?b.join("="):void 0;f=void 0===f?null:i(f),c(i(e),f,d)}),Object.keys(d).sort().reduce(function(a,b){var c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=function a(b){return Array.isArray(b)?b.sort():"object"==typeof b?a(Object.keys(b)).sort(function(a,b){return Number(a)-Number(b)}).map(function(a){return b[a]}):b}(c):a[b]=c,a},Object.create(null))):d}var g=c(18),h=c(17),i=c(16);b.extract=e,b.parse=f,b.stringify=function(a,b){!1===(b=h({encode:!0,strict:!0,arrayFormat:"none"},b)).sort&&(b.sort=function(){});var c=function(a){switch(a.arrayFormat){case"index":return function(b,c,e){return null===c?[d(b,a),"[",e,"]"].join(""):[d(b,a),"[",d(e,a),"]=",d(c,a)].join("")};case"bracket":return function(b,c){return null===c?d(b,a):[d(b,a),"[]=",d(c,a)].join("")};default:return function(b,c){return null===c?d(b,a):[d(b,a),"=",d(c,a)].join("")}}}(b);return a?Object.keys(a).sort(b.sort).map(function(e){var f=a[e];if(void 0===f)return"";if(null===f)return d(e,b);if(Array.isArray(f)){var g=[];return f.slice().forEach(function(a){void 0!==a&&g.push(c(e,a,g.length))}),g.join("&")}return d(e,b)+"="+d(f,b)}).filter(function(a){return a.length>0}).join("&"):""},b.parseUrl=function(a,b){return{url:a.split("?")[0]||"",query:f(e(a),b)}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=null,f=function(){function a(){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),e)return e;e=this,this.listeners={}}return d(a,[{key:"_getListenerIdx",value:function(a,b,c){var d=this.listeners[a],e=void 0,f=-1;if(!d||0===d.length)return f;for(e=0;e<d.length;e++)if(d[e].callback===b&&(!c||c===d[e].scope)){f=e;break}return f}},{key:"subscribe",value:function(a,b,c){var d;if(!a)throw new Error("Event name cannot be null or undefined.");if(!b||"function"!=typeof b)throw new Error("Listener must be of type function.");this._getListenerIdx(a,b,c)>=0||(d={callback:b,scope:c},this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(d))}},{key:"broadcast",value:function(a,b){var c=this.listeners[a];a&&this.listeners[a]&&(b=b||{},c.forEach(function(a){a.callback.call(a.scope,b)}))}}]),a}();b.default=f},function(a){a.exports={EVENTS:{MODULE_CONFIG_AVAILABLE:"moduleConfigAvailable"},HOOKS:{BIDS_BACK_HANDLER:{PRIORITY:{TUNNL:50}},INIT_AD_SERVER:{PRIORITY:{TUNNL:50}}}}},function(a){a.exports={USD:{EUR:.8910273545}}},function(a){a.exports={id:"gd",prebidVersion:"prebid-instream-1.x-pbjsgd.js?v=1",disableInitialAdLoading:!0,prebid:{bidderAliases:[["adhese","adhesevideo"],["appnexus","appnexusvideo"],["pubmatic","pubmaticvideo"]],config:{bidderSequence:"fixed",priceGranularity:{buckets:[{precision:2,min:0,max:20,increment:.01},{precision:2,min:20,max:100,increment:.1}]},enableSendAllBids:!0,userSync:{iframeEnabled:!0},currency:{adServerCurrency:"EUR"},consentManagement:{cmpApi:"iab",timeout:1500,allowAuctionWithoutConsent:!0},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}},timeout:5e3},dfp:{networkCode:1015413},templates:{default:{prebid:{slots:{video1:{mediaTypes:{video:{context:"instream",playerSize:[640,480]}},sizes:[[1920,1080],[1280,720],[1024,768],[768,1024],[750,400],[730,550],[728,480],[728,410],[728,90],[640,480],[640,380],[640,360],[600,400],[480,320],[468,60],[400,300],[336,280],[320,480],[320,240],[320,100],[320,50],[300,250],[300,50],[1,1]],bids:[{bidder:"adhesevideo",params:{account:"orangegames",location:"_gamedistribution_0007_501_Adhese_",format:"preroll",data:{tl:"all"}}},{bidder:"appnexusvideo",params:{placementId:"14319279",video:{skippable:!0,mimes:["video/mp4","application/javascript","video/webm","video/ogg"],frameworks:[2]}}},{bidder:"pubmaticvideo",params:{publisherId:"156946",adSlot:"gamedistribution_501_PubMatic_PREROLL@0x0",video:{skippable:!0,mimes:["video/mp4","application/javascript","video/webm","video/ogg"],w:640,h:480}}}]},rewardedVideo:{mediaTypes:{video:{context:"instream",playerSize:[640,480]}},sizes:[[1920,1080],[1280,720],[1024,768],[768,1024],[750,400],[730,550],[728,480],[728,410],[728,90],[640,480],[640,380],[640,360],[600,400],[480,320],[468,60],[400,300],[336,280],[320,480],[320,240],[320,100],[320,50],[300,250],[300,50],[1,1]],bids:[{bidder:"adhesevideo",params:{account:"orangegames",location:"_gd_rewarded_0007_501_Adhese_",format:"preroll",data:{tl:"all"}}},{bidder:"appnexusvideo",params:{placementId:"16382831",video:{skippable:!1,mimes:["video/mp4","application/javascript","video/webm","video/ogg"],frameworks:[2]}}},{bidder:"pubmaticvideo",params:{publisherId:"156946",adSlot:"gamedistribution_501_PubMatic_REWARDED@0x0",video:{skippable:!1,mimes:["video/mp4","application/javascript","video/webm","video/ogg"],w:640,h:480}}}]}}},dfp:{instream:{slots:{video1:{},rewardedVideo:{}}}}}}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.createHook=function(a,b,c){var g=[{fn:b,priority:0}],h={sync:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];g.forEach(function(b){b.fn.apply(a,c)})},asyncSeries:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var f=0;return g[f].fn.apply(this,c.concat(function b(){for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];var i=g[++f];if("object"===(void 0===i?"undefined":e(i))&&"function"==typeof i.fn)return i.fn.apply(a,d.concat(b))}))}};if(!h[a])throw new Error("invalid hook type");var i={addHook:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;"function"==typeof a&&(g.push({fn:a,priority:b}),g.sort(function(a,b){return b.priority-a.priority}))},removeHook:function(a){g=g.filter(function(c){return c.fn===b||c.fn!==a})},hasHook:function(a){return g.some(function(b){return b.fn===a})}};return"string"==typeof c&&(f[c]=i),d(function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return 1===g.length&&g[0].fn===b?b.apply(void 0,d):h[a].apply(null,d)},i)};var f=b.hooks={}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=function(){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a)}return e(a,[{key:"initAdSlots",value:function(a){var b=a.config,c=a.idhb;if(!b)throw new Error("DFP config is required");this.config=b,this.idhb=c}},{key:"bidsBackHandler",value:function(a){var b=this,c=(a.bids,a.slotIds),e=void 0===c?null:c,g=a.pbjs,h=a.prebidSlots,i=a.personalizedAds,j=a.callback,k=a.url;if("function"==typeof j){var l={};e.forEach(function(a){var c=g.getAdserverTargetingForAdUnitCode(a),f=g.adServers.dfp.buildVideoUrl({adUnit:h[a],params:{iu:"/"+b.config.networkCode+"/"+b.config.instream.slots[a].code,cust_params:d({},c,b.idhb.getAdserverTargetingForAdSlot(a)),description_url:k,npa:!1===i?1:0}});1===e.length?j(f):l[a]=f,g.markWinningBidAsUsed&&g.markWinningBidAsUsed({adUnitCode:a})}),e.length>1&&j(l),(0,f.debugMode)()&&this.idhb.showAllBids()}else(0,f.logError)("Callback not provided. Cannot return vastUrl.")}}]),a}();b.default=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=function(){function a(b){var c=this,d=b.idhb,e=b.loadGPT;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.gptSlotObjects={},this.idhb=d,window.googletag=window.googletag||{},this.googletag=window.googletag,this.googletag.cmd=this.googletag.cmd||[],this.googletag.cmd.push(function(){c.googletag.pubads().disableInitialLoad()}),e&&(0,f.loadScript)("www.googletagservices.com/tag/js/gpt.js")}return e(a,[{key:"initAdSlots",value:function(a){var b=this,c=a.config,e=a.hbOptions,g=a.hbResultTracker;if(!c)throw new Error("DFP config is required");c.disableInitialization?(0,f.logInfo)("DFP/GPT initialization is disabled"):this.googletag.cmd.push(function(){var a={};if(void 0!==c.display.sizeMappings)for(var f in c.display.sizeMappings)if(c.display.sizeMappings.hasOwnProperty(f)){a[f]=b.googletag.sizeMapping();for(var h=c.display.sizeMappings[f],i=0,j=h.length;i<j;i++){var k=h[i];a[f]=a[f].addSize(k[0],k[1])}a[f]=a[f].build()}var l=[];Object.keys(c.display.slots).forEach(function(f){var g=d({},c.display.slots[f]);if(!e.selectedAds||e.selectedAds.indexOf(f)>=0||e.selectedAds.indexOf(g.code)>=0){var h=b.googletag.defineSlot("/"+c.networkCode+"/"+g.code,g.size,f);g.collapseEmptyDiv&&h.setCollapseEmptyDiv(!0,!0),void 0!==g.sizeMappingId&&h.defineSizeMapping(a[g.sizeMappingId]);var i=b.idhb.getAdserverTargetingForAdSlot(f);Object.keys(i).forEach(function(a){return h.setTargeting(a,i[a])}),h.addService(b.googletag.pubads()),b.gptSlotObjects[f]=h,l.push(h)}}),e.debug&&b.googletag.pubads().addEventListener("slotRenderEnded",function(a){var b=a.slot.getSlotElementId();console.log("Slot has been rendered: "+b),console.log(g),g.hasOwnProperty(b)||(g[b]="DFP"),console.log(b+" ad belongs to: "+g[b])});var m=[];void 0!==c.display.nonHbSlots&&Object.keys(c.display.nonHbSlots).forEach(function(a){var d=c.display.nonHbSlots[a],e=b.googletag.defineSlot("/"+c.networkCode+"/"+d.code,d.size,a).addService(b.googletag.pubads());d.collapseEmptyDiv&&e.setCollapseEmptyDiv(!0,!0);var f=b.idhb.getAdserverTargetingForAdSlot(a);Object.keys(f).forEach(function(a){return e.setTargeting(a,f[a])}),b.gptSlotObjects[a]=e,m.push(e)}),c.enableSingleRequest&&b.googletag.pubads().enableSingleRequest(),b.googletag.enableServices(),e.setTargeting(),l.concat(m).forEach(function(a){try{b.googletag.display(a.getSlotElementId())}catch(a){console.log(a)}})})}},{key:"bidsBackHandler",value:function(a){var b=this,c=a.slotIds,d=a.nonHbSlotIds,e=a.pbjs,g=a.personalizedAds,h=a.callback,i=a.dfpRefresh;(0,f.logInfo)("Running bidsBackHandler() for slots "+JSON.stringify(c)),this.googletag.cmd.push(function(){e.que.push(function(){e.setTargetingForGPTAsync(c),!1===g?b.googletag.pubads().setRequestNonPersonalizedAds(1):b.googletag.pubads().setRequestNonPersonalizedAds(0),h&&h({slotIds:c}),i&&b.refreshSlots({slotIds:c})}),i&&b.refreshSlots({slotIds:d})})}},{key:"refreshSlots",value:function(){var a=this,b=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).slotIds;b&&0!==b.length&&((0,f.logInfo)("Refreshing slots "+JSON.stringify(b)),this.googletag.cmd.push(function(){a.googletag.pubads().refresh(b.map(function(b){return a.gptSlotObjects[b]}))}))}}]),a}();b.default=g},function(a,b){!function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return n.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(n.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(n.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(n.arrayBuffer&&n.blob&&p(a))this._bodyArrayBuffer=i(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!q(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=i(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a,b,c,d=f(this);if(d)return d;if(this._bodyBlob)return a=this._bodyBlob,b=new FileReader,c=g(b),b.readAsText(a),c;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(a,b){var c,d,f=(b=b||{}).body;if(a instanceof k){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,f||null==a._bodyInit||(f=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=(c=b.method||this.method||"GET",d=c.toUpperCase(),r.indexOf(d)>-1?d:c),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&f)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(f)}function l(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function m(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var n={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(n.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(a){return a&&DataView.prototype.isPrototypeOf(a)},q=ArrayBuffer.isView||function(a){return a&&o.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},n.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},j.call(k.prototype),j.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},m.error=function(){var a=new m(null,{status:0,statusText:""});return a.type="error",a};var s=[301,302,303,307,308];m.redirect=function(a,b){if(-1===s.indexOf(b))throw new RangeError("Invalid status code");return new m(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=k,a.Response=m,a.fetch=function(a,b){return new Promise(function(c,d){var f=new k(a,b),g=new XMLHttpRequest;g.onload=function(){var a,b,d={status:g.status,statusText:g.statusText,headers:(a=g.getAllResponseHeaders()||"",b=new e,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b)};d.url="responseURL"in g?g.responseURL:d.headers.get("X-Request-URL");var f="response"in g?g.response:g.responseText;c(new m(f,d))},g.onerror=function(){d(new TypeError("Network request failed"))},g.ontimeout=function(){d(new TypeError("Network request failed"))},g.open(f.method,f.url,!0),"include"===f.credentials?g.withCredentials=!0:"omit"===f.credentials&&(g.withCredentials=!1),"responseType"in g&&n.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send(void 0===f._bodyInit?null:f._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(j===setTimeout)return setTimeout(a,0);if((j===c||!j)&&setTimeout)return j=setTimeout,setTimeout(a,0);try{return j(a,0)}catch(b){try{return j.call(null,a,0)}catch(b){return j.call(this,a,0)}}}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=e(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,function(a){if(k===clearTimeout)return clearTimeout(a);if((k===d||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{k(a)}catch(b){try{return k.call(null,a)}catch(b){return k.call(this,a)}}}(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=a.exports={};!function(){try{j="function"==typeof setTimeout?setTimeout:c}catch(a){j=c}try{k="function"==typeof clearTimeout?clearTimeout:d}catch(a){k=d}}();var m,n=[],o=!1,p=-1;l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||e(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(a){return[]},l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(a,b,c){(function(b,c){var d;d=function(){"use strict";function a(a){return"function"==typeof a}function d(){var a=setTimeout;return function(){return a(e,1)}}function e(){for(var a=0;a<x;a+=2)(0,G[a])(G[a+1]),G[a]=void 0,G[a+1]=void 0;x=0}function f(a,b){var c=this,d=new this.constructor(h);void 0===d[I]&&r(d);var e=c._state;if(e){var f=arguments[e-1];A(function(){return q(e,d,f,c._result)})}else o(c,d,a,b);return d}function g(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=new this(h);return k(b,a),b}function h(){}function i(a){try{return a.then}catch(a){return M.error=a,M}}function j(b,c,d){c.constructor===b.constructor&&d===f&&c.constructor.resolve===g?function(a,b){b._state===K?m(a,b._result):b._state===L?n(a,b._result):o(b,void 0,function(b){return k(a,b)},function(b){return n(a,b)})}(b,c):d===M?(n(b,M.error),M.error=null):void 0===d?m(b,c):a(d)?function(a,b,c){A(function(a){var d=!1,e=function(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}(c,b,function(c){d||(d=!0,b!==c?k(a,c):m(a,c))},function(b){d||(d=!0,n(a,b))},a._label);!d&&e&&(d=!0,n(a,e))},a)}(b,c,d):m(b,c)}function k(a,b){var c,d;a===b?n(a,new TypeError("You cannot resolve a promise with itself")):(d=typeof(c=b),null===c||"object"!==d&&"function"!==d?m(a,b):j(a,b,i(b)))}function l(a){a._onerror&&a._onerror(a._result),p(a)}function m(a,b){a._state===J&&(a._result=b,a._state=K,0!==a._subscribers.length&&A(p,a))}function n(a,b){a._state===J&&(a._state=L,a._result=b,A(l,a))}function o(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+K]=c,e[f+L]=d,0===f&&a._state&&A(p,a)}function p(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?q(c,d,e,f):e(f);a._subscribers.length=0}}function q(b,c,d,e){var f=a(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if((g=function(a,b){try{return a(b)}catch(a){return M.error=a,M}}(d,e))===M?(j=!0,h=g.error,g.error=null):i=!0,c===g)return void n(c,new TypeError("A promises callback cannot return that same promise."))}else g=e,i=!0;c._state!==J||(f&&i?k(c,g):j?n(c,h):b===K?m(c,g):b===L&&n(c,g))}function r(a){a[I]=N++,a._state=void 0,a._result=void 0,a._subscribers=[]}var s,t,u,v,w=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},x=0,y=void 0,z=void 0,A=function(a,b){G[x]=a,G[x+1]=b,2===(x+=2)&&(z?z(e):H())},B="undefined"!=typeof window?window:void 0,C=B||{},D=C.MutationObserver||C.WebKitMutationObserver,E="undefined"==typeof self&&void 0!==b&&"[object process]"==={}.toString.call(b),F="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=new Array(1e3),H=void 0;E?H=function(){return b.nextTick(e)}:D?(t=0,u=new D(e),v=document.createTextNode(""),u.observe(v,{characterData:!0}),H=function(){v.data=t=++t%2}):F?((s=new MessageChannel).port1.onmessage=e,H=function(){return s.port2.postMessage(0)}):H=void 0===B?function(){try{var a=Function("return this")().require("vertx");return void 0!==(y=a.runOnLoop||a.runOnContext)?function(){y(e)}:d()}catch(a){return d()}}():d();var I=Math.random().toString(36).substring(2),J=void 0,K=1,L=2,M={error:null},N=0,O=function(){function a(a,b){this._instanceConstructor=a,this.promise=new a(h),this.promise[I]||r(this.promise),w(b)?(this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?m(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&m(this.promise,this._result))):n(this.promise,new Error("Array Methods must be provided an Array"))}return a.prototype._enumerate=function(a){for(var b=0;this._state===J&&b<a.length;b++)this._eachEntry(a[b],b)},a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===g){var e=i(a);if(e===f&&a._state!==J)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===P){var k=new c(h);j(k,a,e),this._willSettleAt(k,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},a.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===J&&(this._remaining--,a===L?n(d,c):this._result[b]=c),0===this._remaining&&m(d,this._result)},a.prototype._willSettleAt=function(a,b){var c=this;o(a,void 0,function(a){return c._settledAt(K,b,a)},function(a){return c._settledAt(L,b,a)})},a}(),P=function(){function a(b){this[I]=N++,this._result=this._state=void 0,this._subscribers=[],h!==b&&("function"!=typeof b&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof a?function(a,b){try{b(function(b){k(a,b)},function(b){n(a,b)})}catch(b){n(a,b)}}(this,b):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return a.prototype.catch=function(a){return this.then(null,a)},a.prototype.finally=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){throw c})})},a}();return P.prototype.then=f,P.all=function(a){return new O(this,a).promise},P.race=function(a){var b=this;return new b(w(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})},P.resolve=g,P.reject=function(a){var b=new this(h);return n(b,a),b},P._setScheduler=function(a){z=a},P._setAsap=function(a){A=a},P._asap=A,P.polyfill=function(){var a=void 0;if(void 0!==c)a=c;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var d=null;try{d=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===d&&!b.cast)return}a.Promise=P},
P.Promise=P,P},a.exports=d()}).call(this,c(11),c(10))},function(a,b,c){"use strict";a.exports=c(12).polyfill()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.slotIds,c=a.callback,d=a.dfpRefresh,g=void 0===d||d;u||(function(){F._url=F._url||m.getParentUrl(),A.setAdserverTargeting({hbw_url:decodeURIComponent(F._url).replace("https://","").replace("http://","")}),void 0!==F.prebid.config.currency&&(F.prebid.config.currency.rates=o.default);var a=Object.keys(F.prebid.slots).map(function(a){var b=F.prebid.slots[a];return b.code=a,b}).filter(function(a){return!D.selectedAds||-1!==D.selectedAds.indexOf(a.code)});m.log("Prebid ad units: ",a),A.initAdServer({config:F.dfp,hbOptions:D,hbResultTracker:t,idhb:A}),B.que.push(function(){F.prebid.bidderAliases&&F.prebid.bidderAliases.forEach(function(a){return B.aliasBidder(a[0],a[1])}),B.addAdUnits(a),B.setConfig(f(F.prebid.config,{debug:m.debugMode()})),void 0!==F.prebid.analytics&&F.prebid.analytics.forEach(function(a){return B.enableAnalytics(a)}),m.debugMode()&&B.onEvent("bidWon",function(a){m.log("bidWon for slot: "+a.adUnitCode+" ("+a.width+"x"+a.height+") by bidder: "+a.bidderCode+" ecpm: "+a.cpm),t[a.adUnitCode]=a.bidderCode})}),A.syncUsers()}(),F.refreshRate&&F.refreshRate>0&&window.setInterval(function(){e({slotIds:b,callback:c,dfpRefresh:g})},F.refreshRate),u=!0),m.logInfo("requestBids()",b);var h=void 0,i=void 0;b?Object.keys(I).length>0?(h=b.filter(function(a){return!I[a]}),i=b.filter(function(a){return I[a]})):h=b:(h=Object.keys(H),Object.keys(I).length>0&&(i=Object.keys(I)));var j={bidsBackHandler:function(a){A.bidsBackHandler({bids:a,dfpDisplay:r,dfpInstreamVideo:s,slotIds:h,nonHbSlotIds:i,pbjs:B,prebidSlots:F.prebid.slots,personalizedAds:D.personalizedAds,callback:c,dfpRefresh:g,url:F._url})},timeout:F.prebid.timeout};j.adUnitCodes=h,B.que.push(function(){B.requestBids(j)})}var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c(13),c(9);var g=d(c(3)),h=d(c(8)),i=d(c(7)),j=d(c(2)),k=c(6),l=d(c(1)),m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(c(0)),n=d(c(5)),o=d(c(4)),p="hb.improvedigital.com/pbw/prebid",q=g.default.EVENTS.MODULE_CONFIG_AVAILABLE,r=null,s=null,t={},u=!1,v=void 0,w=new j.default,x=n.default;x.id=x.id||"";var y="idhb"+x.id,z="pbjs"+x.id;m.debugMode({on:x.debug,wrapperId:y}),window[y]=window[y]||{};var A=window[y];A.que=A.que||[],A.modules=A.modules||{},window[z]=window[z]||{};var B=window[z];B.que=B.que||[];var C=document.getElementById(y);C&&(v=l.default.parseUrl(C.src).query),v&&void 0!==v.debug&&m.debugSession({on:!0,wrapperId:y});var D=f({template:"default",personalizedAds:!0,setTargeting:function(){}},window["HB_OPTIONS"+x.id]||{});v&&v.t&&(D.template=v.t),m.log("HB_OPTIONS: ",D);var E=x.templates[D.template];if(void 0===E)throw new Error("Configuration not found for template '"+D.template+"'");var F=m.mergeDeep(x,E);delete F.templates,m.log("%c %c %c Improve Digital Prebid Wrapper Debug Mode %c %c %c","background: #E57373","background: #EF5350","color: #fff; background: #E53935","background: #EF5350","background: #E57373","background: #ffffff");var G="";"string"==typeof F.prebidVersion?(G=F.prebidVersion.search("/")>=0?"":p+"/",G+=F.prebidVersion):G=p+"/prebid.min.js",m.loadScript(G),A.bidsBackHandler=(0,k.createHook)("asyncSeries",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.bids,c=a.dfpDisplay,d=a.dfpInstreamVideo,e=a.slotIds,f=a.nonHbSlotIds,g=a.pbjs,h=a.prebidSlots,i=a.personalizedAds,j=a.callback,k=a.dfpRefresh,l=a.url;if(m.logInfo("idhb.bidsBackHandler()"),t={},d){var n=e.filter(function(a){return F.dfp.instream.slots[a]});n.length>0&&d.bidsBackHandler({bids:b,slotIds:n,pbjs:g,prebidSlots:h,personalizedAds:i,callback:j,url:l})}if(c){var o=e.filter(function(a){return F.dfp.display.slots[a]});o.length>0&&c.bidsBackHandler({bids:b,slotIds:o,nonHbSlotIds:f,pbjs:g,personalizedAds:i,callback:j,dfpRefresh:k})}}),A.initAdServer=(0,k.createHook)("asyncSeries",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.logInfo("idhb.initAdServer()"),r&&r.initAdSlots(a),s&&s.initAdSlots(a)}),F._targeting={},A.setAdserverTargetingForAdSlot=function(a,b){"string"!=typeof a||""!==a&&!J[a]?m.logError("Invalid slotId '"+a+"'"):m.isObject(b)?(F._targeting[a]=F._targeting[a]||{},f(F._targeting[a],b)):m.logError("'keyValuesObj' argument must be an object")},A.setAdserverTargeting=function(a){return A.setAdserverTargetingForAdSlot("",a)},A.getAdserverTargetingForAdSlot=function(a){return f({},F._targeting[""],F._targeting[a])},A.setAdserverTargeting({hbw_pbjs:z}),A.setDfpAdUnitCodeForAdSlot=function(a,b){"string"!=typeof a||""!==a&&!J[a]?m.logError("Invalid slotId '"+a+"'"):"string"==typeof b&&0!==b.length?(F.dfp.display&&(Object.keys(F.dfp.display.slots).forEach(function(c){""!==a&&c!==a||(F.dfp.display.slots[c].code=b,m.logInfo("DFP ad unit code for slot '"+c+"' set to '"+b+"'"))}),F.dfp.display.nonHbSlots&&Object.keys(F.dfp.display.nonHbSlots).forEach(function(c){""!==a&&c!==a||(F.dfp.display.nonHbSlots[c].code=b,m.logInfo("DFP ad unit code for slot '"+c+"' set to '"+b+"'"))})),F.dfp.instream&&Object.keys(F.dfp.instream.slots).forEach(function(c){""!==a&&c!==a||(F.dfp.instream.slots[c].code=b,m.logInfo("DFP ad unit code for slot '"+c+"' set to '"+b+"'"))})):m.logError("Invalid adUnitCode '"+b+"'")},A.setDfpAdUnitCode=function(a){return A.setDfpAdUnitCodeForAdSlot("",a)},A.setRefererUrl=function(a){"string"==typeof a&&a.length>0?(m.logInfo("Setting referer to "+a),F._url=a):m.logWarn("Invalid referrer: "+a)},A.allowPersonalizedAds=function(a){"boolean"==typeof a?D.personalizedAds=a:m.logWarn("allowPersonalizedAds(): true/false argument expected")},A.setDefaultGdprConsentString=function(a){F.prebid.config.consentManagement?m.iabCmpExists()?m.logInfo("CMP found. Ignoring default consent string"):(m.logInfo("CMP not found. Using consent string: "+a),A.setStaticGdprConsentString(a)):m.logWarn("Prebid consent management module not configured")},A.setStaticGdprConsentString=function(a){F.prebid.config.consentManagement?(F.prebid.config.consentManagement.cmpApi="static",F.prebid.config.consentManagement.consentData={getConsentData:{gdprApplies:!0,hasGlobalScope:!1,consentData:a},getVendorConsents:{gdprApplies:!0,metadata:a}}):m.logWarn("Prebid consent management module not configured")},v&&v.npa&&A.allowPersonalizedAds("1"!==v.npa);var H=f({},F.dfp&&F.dfp.display&&F.dfp.display.slots,F.dfp&&F.dfp.instream&&F.dfp.instream.slots),I=f({},F.dfp&&F.dfp.display&&F.dfp.display.nonHbSlots),J=f({},H,I);w.broadcast(q,{modulesConfig:F.modules||{},dfpSlots:J,templateName:D.template,selectedAds:D.selectedAds,idhb:A,pbjs:B}),F.dfp&&(F.dfp.display&&(r=new h.default({idhb:A,loadGPT:!F.dfp.disableInitialization})),F.dfp.instream&&(s=new i.default)),B.bidderSettings=B.bidderSettings||{},B.bidderSettings.standard={bidCpmAdjustment:function(a,b){return a>0&&a<.01&&"EUR"===b.currency?(m.logInfo("Overriding bid price from "+b.bidderCode+" for slot "+b.adUnitCode+" from "+a+" to 0.01."),.01):a}},F.disableInitialAdLoading||A.que.push(function(){return e()}),A.requestAds=e,A.showAllBids=function(){var a=B.getBidResponses(),b=B.getAllWinningBids(),c=[];if(Object.keys(a).forEach(function(d){a[d].bids.forEach(function(a){c.push({bid:a,adunit:d,adId:a.adId,bidder:a.bidder,time:a.timeToRespond,cpm:a.cpm,msg:a.statusMessage,rendered:!!b.find(function(b){return b.adId===a.adId})})})}),c.length)if(console.table)console.table(c);else for(var d=0;d<c.length;d++)console.log(c[d]);else{var e="No bids from HB bidders";console.table?console.table([{msg:e}]):console.warn(e)}},A.showAllWinningBids=function(){for(var a=B.getHighestCpmBids(),b=[],c=0;c<a.length;c++){var d=a[c];b.push({adunit:d.adUnitCode,adId:d.adId,bidder:d.bidder,time:d.timeToRespond,cpm:d.cpm})}if(b.length)if(console.table)console.table(b);else for(var e=0;e<b.length;e++)console.log(b[e]);else console.warn("No prebid winners")},A.debug=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return m.debugSession({on:a,wrapperId:y})},A.getConfig=function(){return F},A.syncUsers=function(){if(F.userSync){var a=void 0===F.userSync.syncDelay?3e3:F.userSync.syncDelay;if(a>0)return setTimeout(function(){return m.fireSyncs(F.userSync)},a);m.fireSyncs(F.userSync)}},A.queuePointer=A.queuePointer||0,A.isRunningQueuedFunc=A.isRunningQueuedFunc||!1,A.checkQueuedFunc=function(){if(!0!==A.isRunningQueuedFunc){for(A.isRunningQueuedFunc=!0;A.queuePointer<A.que.length;)A.que[A.queuePointer](),A.queuePointer++;A.isRunningQueuedFunc=!1}},A.que.push=function(a){Array.prototype.push.call(A.que,a),A.checkQueuedFunc()},A.checkQueuedFunc()},function(a,b,c){"use strict";function d(a){function b(){var b=function(){var b=[],c=void 0;do{try{c=c?c.parent:a;try{b.push({referrer:c.document.referrer||null,location:c.location.href||null,isTop:c==a.top})}catch(d){b.push({referrer:null,location:null,isTop:c==a.top}),(0,e.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(a){return b.push({referrer:null,location:null,isTop:!1}),b}}while(c!=a.top);return b}(),c=function(){try{if(!a.location.ancestorOrigins)return;return a.location.ancestorOrigins}catch(a){}}();if(c)for(var d=0,f=c.length;d<f;d++)b[d].ancestor=c[d];return b}return function(){try{var a=b(),c=a.length-1,d=null!==a[c].location||c>0&&null!==a[c-1].referrer,e=function(a){var b=[],c=null,d=null,e=null,f=null,g=null,h=null,i=void 0;for(i=a.length-1;i>=0;i--){try{d=a[i].location}catch(a){}if(d)c=encodeURIComponent(d),b.push(c),h||(h=c);else if(0!==i){e=a[i-1];try{f=e.referrer,g=e.ancestor}catch(a){}f?(c=encodeURIComponent(f),b.push(c),h||(h=c)):g?(c=encodeURIComponent(g),b.push(c),h||(h=c)):b.push(null)}else b.push(null)}return{stack:b,detectedRefererUrl:h}}(a);return{referer:e.detectedRefererUrl,reachedTop:d,numIframes:c,stack:e.stack}}catch(a){}}}Object.defineProperty(b,"__esModule",{value:!0}),b.getRefererInfo=void 0,b.detectReferer=d;var e=c(0);b.getRefererInfo=d(window)},function(a,b,c){"use strict";function d(a,b){try{return decodeURIComponent(a.join(""))}catch(a){}if(1===a.length)return a;b=b||1;var c=a.slice(0,b),e=a.slice(b);return Array.prototype.concat.call([],d(c),d(e))}function e(a){try{return decodeURIComponent(a)}catch(e){for(var b=a.match(f),c=1;c<b.length;c++)b=(a=d(b,c).join("")).match(f);return a}}var f=new RegExp("%[a-f0-9]{2}","gi"),g=new RegExp("(%[a-f0-9]{2})+","gi");a.exports=function(a){if("string"!=typeof a)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"��","%FF%FE":"��"},c=g.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(a){var d=e(c[0]);d!==c[0]&&(b[c[0]]=d)}c=g.exec(a)}b["%C2"]="�";for(var f=Object.keys(b),h=0;h<f.length;h++){var i=f[h];a=a.replace(new RegExp(i,"g"),b[i])}return a}(a)}}},function(a,b,c){"use strict";var d=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,g,h=function(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(a),i=1;i<arguments.length;i++){for(var j in c=Object(arguments[i]))e.call(c,j)&&(h[j]=c[j]);if(d){g=d(c);for(var k=0;k<g.length;k++)f.call(c,g[k])&&(h[g[k]]=c[g[k]])}}return h}},function(a,b,c){"use strict";a.exports=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(q=new Promise(function(c,d){o.then(function(e){if((0,j.logInfo)("Tunnl initAdServerHook"),e===w)return(0,j.logWarn)("WARNING: Tunnl response timeout expired. Continuing without Tunnl data."),b(a,b),d(),void p.then(function(){Object.keys(n).forEach(function(a){n[a]&&fetch(n[a].Err+"&hb_timeout=1").then(j.checkHttpStatus)})}).catch(function(){});clearTimeout(r),s&&Object.keys(n).forEach(function(a){l.setDfpAdUnitCodeForAdSlot(a,n[a].NsId+"/"+n[a].TId)}),b(a,b),c()}).catch(function(c){(0,j.logError)("Tunnl Response Error: "+JSON.stringify(c)),b(a,b),d()})})).catch(function(){})}function f(a,b){q.then(function(){(0,j.logInfo)("Tunnl bidsBackHandlerHook"),googletag.cmd.push(function(){m.que.push(function(){googletag.pubads().getSlots().forEach(function(a){var b=a.getSlotElementId();n[b]&&n[b].Targeting&&((0,j.logInfo)("Tunnl DFP targeting for slot "+b+":",n[b].Targeting),n[b].Targeting.forEach(function(b){var c=g(b,2),d=c[0],e=c[1];a.setTargeting(d,e)}))})})}),b(a,b),l.bidsBackHandler.removeHook(f)}).catch(function(){b(a,b),l.bidsBackHandler.removeHook(f)})}var g=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=d(c(3)),i=d(c(2)),j=c(0),k=new i.default,l=void 0,m=void 0,n={},o=void 0,p=void 0,q=void 0,r=void 0,s=!1,t=h.default.EVENTS.MODULE_CONFIG_AVAILABLE,u=h.default.HOOKS.BIDS_BACK_HANDLER.PRIORITY.TUNNL,v=h.default.HOOKS.INIT_AD_SERVER.PRIORITY.TUNNL,w="timeout";k.subscribe(t,function(a){var b=a.modulesConfig,c=a.dfpSlots,d=a.templateName,g=a.selectedAds,h=a.idhb,i=a.pbjs,k=b.tunnl;if(k){if(k.enabled){l=h,m=i;var q="https://pub.tunnl.com/oppdhb?page_url="+(0,j.getParentUrl)(),t=[];if(d=d.replace(/template/i,""),s=!(!k.tagId&&!k.dynamicTagId),Object.keys(c).forEach(function(a){if(!(k.slots&&-1===k.slots.indexOf(a)||g&&-1===g.indexOf(a))){var b=q,e=d+"___"+a;b+="&dslot="+e,l.setAdserverTargetingForAdSlot(a,{tnl_asset_id:e,tnl_system:1}),k.dynamicTagId||(b+="&tid="+(k.tagId?k.tagId:c[a].code)),k.urlParams&&k.urlParams.forEach(function(a){return b+="&"+a[0]+"="+a[1]});var f=fetch(b).then(j.checkHttpStatus).then(function(a){return a.json()}).then(function(b){n[a]=b});t.push(f)}}),0!==t.length){if(p=Promise.all(t),"number"==typeof k.timeout&&k.timeout>0){(0,j.logInfo)("Tunnl: setting fetch timeout to "+k.timeout+"ms");var x=new Promise(function(a){r=setTimeout(a,k.timeout,w)});o=Promise.race([p,x])}l.initAdServer.addHook(e,v),l.bidsBackHandler.addHook(f,u)}}}else(0,j.logInfo)("No configuration found for Tunnl module")})},function(a,b,c){c(19),a.exports=c(14)}]);