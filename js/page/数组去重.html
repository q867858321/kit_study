<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //第一种 
        //遍历要删除的数组arr, 把元素分别放入另一个数组tmp中，在判断该元素在arr中不存在才允许放入tmp中
        var color = ['red','blue','green','pink','yellow','blue','black','red'];
        function unique(arr){
            // 遍历arr，把元素分别放入tmp数组(不存在才放)
            var tmp = new Array();
            for(var i in arr){
                //该元素在tmp内部不存在才允许追加
                if(tmp.indexOf(arr[i])==-1){
                    tmp.push(arr[i]);
                }
            }
            return tmp;
        }
        var arr = unique(color);
        console.log(arr);   


        //第二种
        //把目标数组arr的元素值和键的位置调换 自动就把重复的元素给删除掉了，
        //调换后的样子：array('red'=>1,'blue'=>1,'green'=>1,'pink'=>1,'yellow'=>1,'black'=>1)
        var color = ['red','blue','green','pink','yellow','blue','black','red'];
        function unique(arr){
            var tmp = new Array();
            for(var m in arr){
                tmp[arr[m]]=1;
            }
            //再把键和值的位置再次调换
            console.log(tmp);
            var tmparr = new Array();
            for(var n in tmp){
                tmparr.push(n);
            }
            return tmparr;
        }
        var arr = unique(color);
        console.log(arr);

        //第三种
        //用一个hashtable的结构记录已有的元素，这样就可以避免内层循环
        var color = ['red','blue','green','pink','yellow','blue','black','red'];
          function unique(arr) {
            var result = [], hash = {};
            for (var i = 0, elem; (elem = arr[i]) != null; i++) {
                if (!hash[elem]) {
                    result.push(elem);
                    hash[elem] = true;
                }
            }
            return result;
         }
         var arr = unique(color);
         console.log(arr);


        //第三种
        //filter过滤
        var arr = [1, 2, 3, 1, 2, 3, 4, 5, 5];
        var resultArr;
        // resultArr = arr.filter(function (item, index, self) {   
        //     return self.indexOf(item) == index;
        // });
        resultArr = arr.filter((item,index,self)=>{return self.indexOf(item)==index});
        console.log(resultArr);
        
        //第四种
        var yearArray = [2009, 2009, 2010, 2010, 2009, 2010];
		$.unique(yearArray);
    </script>
</body>
</html>